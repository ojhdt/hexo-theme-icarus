---
title: "如何规避 步某乐跑 系统环境检测"
date: 2020-11-06 11:11:11
categories: "教程"
tags: [Xposed,Magisk]
cover: "https://ojhdt-1257115336.cos.ap-guangzhou.myqcloud.com/img/20201106/0.jpg"
toc: true
excerpt: "这是一款致力服务于高校体育信息化管理，覆盖全国各省高校的校园智慧体育App。"
---
### 先说点

步某乐跑是一款高校智慧体育APP，正在我们学校强制推行。它的功能相当完备，不仅支持时间，次数，地区范围等多种限制，还整合了榜单，社交等多种玩法；拥有一套完善的反作弊机制，数据也能即时和平台同步。

![官方宣传图](https://ojhdt-1257115336.cos.ap-guangzhou.myqcloud.com/img/20201106/1.png)

尽管软件在各大应用商店评论区骂声一片，但这款软件也确实起到了督促的作用。平时不喜欢跑步的我也会自觉下楼跑几圈了——不过就是拿着手机这点不太自然。

不可不承认，软件的出发点是好的；但在正常跑步监督功能之外，在信息搜集这点吃相确实难看。和其他毒瘤类似，这款软件也有着大量垃圾内容推送。

![Google Play 商店的官方认证](https://ojhdt-1257115336.cos.ap-guangzhou.myqcloud.com/img/20201106/2.png)

以上几点都只能算是不尽人意，忍忍还能用。但它对手机环境的检测简直偏激。稍有异常就会闪退或禁止启动记录。

![各种错误](https://ojhdt-1257115336.cos.ap-guangzhou.myqcloud.com/img/20201106/3.png)

但软件毕竟是运行在手机上的，只要做一些伪装，这些检测还是有可能被规避的。接下来记录的是一系列规避检测的操作。当然，如果客户端能够在你的设备上正常运行，这篇文章的内容也就与你不相干了。

### 操作

#### 创建多开分身（可选）

创建分身需要 Root 环境。

这里使用的软件为冯大的作品**炼妖壶(Island)**。分身的原理是 Android 本身的工作资料特性，存储目录与原有的目录隔离。可以防止乐跑客户端任意读取存储的文件。分身后可以卸载旧的客户端，仅保留应用分身。工作资料内的应用还支持暂停。使用完毕后直接暂停，不留丝毫后台。

#### 添加 MagiskHide 及 EdXposed 白名单

标准操作。可以完美解决软件对 Root 环境和 Xposed 环境的检测。但在部分机型上可能存在反效果（MagiskHide闪退而直接启动正常），视自身实际情况决定。

#### Thanox 管理权限

Thanox 运行需要 Xposed 环境。

软件有两个十分实用的功能：

- **隐匿**：为应用提供虚假的手机信息（imei等）。流氓应用的大杀器。
- **权限管理**：关键步骤。需要同时禁用乐跑的`查询其他应用信息`，`获取已安装应用列表`和`查询意图活动`三个权限才能使正常进入跑步。

---
到了这里，软件应该能够正常运行起来了，尽管还存在偶尔闪退的情况。如果仍然无法运行，可以做出一些牺牲，卸载一些目标检测软件（实测软件会检测 Rikka的**存储空间隔离** 和一些位置模拟软件），或者尝试禁用 Xposed。

<details><summary>点击查看隐藏内容</summary>
  <blockquote><p>安装 Lerist 开发的 <b>Fake Location</b>，注册账户，试用或选择购买。</br>
  在侧边栏开启反检测，添加步某乐跑为反检测应用。</br>
  开始跑步后，记住打卡点位置，返回Fake Location，从侧边栏选择<b>路线模拟</b>。</br>
  从当前位置开始，沿着道路绘画出经过打卡点的路线。</br>
  返回。在启动模拟前设置好运动速度，开启速度浮动和步频模拟。速度要保持正常值。</p>
  <img src="https://ojhdt-1257115336.cos.ap-guangzhou.myqcloud.com/img/20201106/4.png"  alt="设置" /> </blockquote>
</details>